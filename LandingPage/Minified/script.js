const ELEMENTS={navLinks:"nav ul li a",sections:"section",modal:"#quoteModal",quoteButton:"#quoteButton",hamburger:".hambugger",mobileMenu:".mobile-menu",closeMenu:".close-menu",mobileNavLinks:".mobile-menu ul li a",homeLinks:"#top",header:"#header"},DOM={};function debounce(e,t=100){let o;return function(){let n=this,l=arguments;clearTimeout(o),o=setTimeout(()=>e.apply(n,l),t)}}function init(){for(let[e,t]of Object.entries(ELEMENTS))if(t.startsWith("#"))DOM[e]=document.getElementById(t.substring(1));else{let o=document.querySelectorAll(t);DOM[e]=1===o.length?o[0]:o}setupSmoothScrolling(),setupScrollHandling(),DOM.modal&&DOM.quoteButton&&setupModal(),DOM.hamburger&&DOM.mobileMenu&&DOM.closeMenu&&setupMobileMenu(),DOM.homeLinks&&DOM.homeLinks.length&&setupHomeLinks()}function setupSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();let o=e.getAttribute("href"),n=document.querySelector(o);if(n){let l=window.pageYOffset||document.documentElement.scrollTop,s=50;l>n.offsetTop&&(s=120);let i=n.getBoundingClientRect().top,a=i+window.pageYOffset-s;window.scrollTo({top:a,behavior:"smooth"})}})})}function handleScroll(){let e=null,t=0;if(DOM.sections.forEach(o=>{let n=o.getBoundingClientRect(),l=Math.min(n.bottom,window.innerHeight)-Math.max(n.top,0);l>t&&l>0&&(t=l,e=o)}),e){DOM.navLinks.forEach(e=>{e.parentElement.classList.remove("active")});let o=document.querySelector(`nav ul li a[href="#${e.id}"]`);o&&o.parentElement.classList.add("active")}}function setupScrollHandling(){let e=0;function t(){let t=window.pageYOffset||document.documentElement.scrollTop;t<e&&t>0?DOM.header.classList.add("top"):DOM.header.classList.remove("top"),e=t}let o=debounce(handleScroll,50),n=debounce(t,10);window.addEventListener("scroll",()=>{o(),n()}),window.addEventListener("load",()=>{handleScroll(),t()})}function setupModal(){if(DOM.quoteButton&&"function"==typeof DOM.quoteButton.addEventListener){DOM.quoteButton.addEventListener("click",e=>{e.preventDefault(),DOM.modal.classList.add("show")}),window.addEventListener("click",e=>{e.target===DOM.modal&&DOM.modal.classList.remove("show")});let e=0,t=0;DOM.modal.addEventListener("touchstart",t=>{e=t.changedTouches[0].screenY},!1),DOM.modal.addEventListener("touchend",o=>{t=o.changedTouches[0].screenY,function o(){let n=t-e;n>50&&DOM.modal.classList.remove("show")}()},!1)}else console.warn("Quote button not found")}function setupMobileMenu(){DOM.hamburger.addEventListener("click",()=>{DOM.mobileMenu.classList.toggle("show")}),DOM.closeMenu.addEventListener("click",()=>{DOM.mobileMenu.classList.toggle("show")}),DOM.mobileNavLinks instanceof NodeList&&DOM.mobileNavLinks.forEach(e=>{e.addEventListener("click",()=>{DOM.mobileMenu.classList.toggle("show")})})}function setupHomeLinks(){DOM.homeLinks instanceof NodeList?DOM.homeLinks.forEach(e=>{e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}):DOM.homeLinks&&DOM.homeLinks.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}document.addEventListener("DOMContentLoaded",init);