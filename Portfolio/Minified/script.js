const ELEMENTS={HEADER:"header",DEV_NAME:"devName",HAMBURGER:"hambugger",SIDE_MENU:"sideMenu",MAIN:"main",SIDE_MENU_CLOSE:"sideMenuClose",HIRE_ME_BTN:"hireMe",HIRE_ME_MODAL:"modelHireMe",HIRE_ME_CONTENT:"hireMeContent",ABOUT_SECTION:"about",SKILLS_SECTION:"skills",RESUME_CONTAINER_CLASS:"resume-container",CLOSE_BTN_HIRE_ME:"closeMeBtn",SIDE_MENU_LINK:"sideMenuLink",ARROW_TOP:"arrowTop"},debounce=(e,t)=>{let s;return function(){let r=this,l=arguments;clearTimeout(s),s=setTimeout(()=>e.apply(r,l),t)}},cacheElements=()=>{let e={};for(let[t,s]of Object.entries(ELEMENTS))"RESUME_CONTAINER_CLASS"===t?e[t]=document.querySelector(`.${s}`):"HIRE_ME_BTN"===t||"SIDE_MENU_LINK"===t?e[t]=document.querySelectorAll(`#${s}`):e[t]=document.getElementById(s);return e},setupScrollListeners=e=>{let t=debounce(()=>{toggleHeaderVisibility(e.DEV_NAME,e.HEADER)},10);window.addEventListener("scroll",t),toggleHeaderVisibility(e.DEV_NAME,e.HEADER)},toggleHeaderVisibility=(e,t)=>{if(!e||!t)return;let s=e.getBoundingClientRect().top;s<=-4?(t.classList.add("sticky"),e.classList.add("hide")):(t.classList.remove("sticky"),e.classList.remove("hide"))},setupSideMenu=e=>{let{HAMBURGER:t,SIDE_MENU:s,SIDE_MENU_CLOSE:r,MAIN:l,SIDE_MENU_LINK:i}=e;if(!t||!s||!r||!l)return;let o=()=>{s.classList.toggle("show"),l.classList.toggle("shrink"),document.body.style.overflow=s.classList.contains("show")?"hidden":"",document.body.style.background=s.classList.contains("show")?"rgba(0, 0, 0, 0.5)":""};t.addEventListener("click",o),r.addEventListener("click",o),i&&i.forEach(e=>{e.addEventListener("click",()=>{s.classList.remove("show"),l.classList.remove("shrink"),document.body.style.overflow="",document.body.style.background=""})})},setupHireMeModal=e=>{let{HIRE_ME_BTN:t,HIRE_ME_MODAL:s,HIRE_ME_CONTENT:r,CLOSE_BTN_HIRE_ME:l}=e;if(!t||!s||!r||!l)return;let i=0,o=0;t.forEach(e=>{e.addEventListener("click",()=>{s.classList.remove("hide"),s.classList.add("show"),setTimeout(()=>{r.classList.add("show"),r.classList.remove("hide")},700),document.body.style.overflow="hidden"})}),l.addEventListener("click",()=>closeHireMeModal(s,r)),s.addEventListener("click",e=>{closeHireMeModal(s,r),e.stopPropagation()}),r.addEventListener("click",e=>{e.stopPropagation()}),r.addEventListener("touchstart",e=>{i=e.changedTouches[0].screenY}),r.addEventListener("touchmove",e=>{o=e.changedTouches[0].screenY}),r.addEventListener("touchend",()=>{o>i+50&&closeHireMeModal(s,r)})},closeHireMeModal=(e,t)=>{e&&t&&(e.classList.remove("show"),e.classList.add("hide"),t.classList.remove("show"),t.classList.add("hide"),document.body.style.overflow="")},setupSmoothScroll=()=>{let e=document.querySelectorAll('a[href^="#"]');e.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.currentTarget.getAttribute("href"),s=document.querySelector(t);s&&window.scrollTo({top:s.offsetTop-75,behavior:"smooth"})})})},animateWithDelay=(e,t,s)=>{e&&setTimeout(()=>{e.classList.add(t)},s)},setupAboutSectionObserver=()=>{let e=document.querySelector(".about");if(!e)return;let t={heading:document.querySelector(".about h2"),paragraph:document.querySelector(".about p"),detailSection:document.querySelector(".about .detail-section"),detailImg:document.querySelector(".about .detail-img"),info:document.querySelector(".about .info"),profileInfo:document.querySelectorAll(".profile-info p")},s=new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting?animateAboutSection(e,t,!0):animateAboutSection(e,t,!1)})},{threshold:.02});s.observe(e)},animateAboutSection=(e,t,s)=>{e&&(s?(e.classList.add("fadeInVisible"),animateWithDelay(t.heading,"fadeInHeading",100),animateWithDelay(t.paragraph,"fadeInParagraph",300),animateWithDelay(t.detailSection,"fadeInDetailSection",500),animateWithDelay(t.detailImg,"fadeInImage",700),animateWithDelay(t.info,"fadeInInfo",900),t.profileInfo&&t.profileInfo.forEach((e,t)=>{animateWithDelay(e,"fadeInVisible",1100+150*t)})):(e.classList.remove("fadeInVisible"),t.heading&&t.heading.classList.remove("fadeInHeading"),t.paragraph&&t.paragraph.classList.remove("fadeInParagraph"),t.detailSection&&t.detailSection.classList.remove("fadeInDetailSection"),t.detailImg&&t.detailImg.classList.remove("fadeInImage"),t.info&&t.info.classList.remove("fadeInInfo"),t.profileInfo&&t.profileInfo.forEach(e=>e.classList.remove("fadeInVisible"))))},setupSkillsSectionObserver=()=>{let e=document.getElementById("skills");if(!e)return;let t=document.querySelectorAll(".skill"),s=document.querySelectorAll(".skill-progress");t.forEach((e,t)=>{e.style.setProperty("--i",t)});let r=new IntersectionObserver(r=>{r.forEach(r=>{r.isIntersecting?(e.classList.add("fadeInSkills"),t.forEach((e,t)=>{setTimeout(()=>{e.classList.add("fadeInSkillBar")},300*t)}),s.forEach((e,t)=>{setTimeout(()=>{let t=e.parentElement.previousElementSibling?.getAttribute("data-percent");t&&(e.style.width=t)},200+500*t)})):(e.classList.remove("fadeInSkills"),t.forEach(e=>e.classList.remove("fadeInSkillBar")),s.forEach(e=>{e.style.width="0"}))})},{threshold:.02});r.observe(e)},setupResumeSectionObserver=()=>{let e=document.querySelector(".resume-container");if(!e)return;let t=document.querySelectorAll(".timeline");document.querySelectorAll(".timeline-item").forEach((e,t)=>{e.style.setProperty("--index",t)});let s=new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting?(e.classList.add("fadeInResumeContainer"),setTimeout(()=>{e.querySelectorAll(".resume-title, .resume-section").forEach(e=>e.classList.add("show")),t.forEach(e=>e.classList.add("show"))},300)):(e.classList.remove("fadeInResumeContainer"),e.querySelectorAll(".resume-title, .resume-section").forEach(e=>e.classList.remove("show")),t.forEach(e=>e.classList.remove("show")))})},{threshold:.02});s.observe(e)},setupProjectSectionObserver=()=>{let e=document.querySelector(".projects-section");if(!e)return;let t=document.querySelectorAll(".project-card"),s=new IntersectionObserver(s=>{s.forEach(s=>{s.isIntersecting?(e.classList.add("fadeInProjects"),t.forEach((e,t)=>{setTimeout(()=>{e.classList.add("fadeInProject")},200*t)})):(e.classList.remove("fadeInProjects"),t.forEach(e=>e.classList.remove("fadeInProject")))})},{threshold:.2});s.observe(e)},setupIntersectionObservers=()=>{setupAboutSectionObserver(),setupSkillsSectionObserver(),setupResumeSectionObserver(),setupProjectSectionObserver()},updateActiveNavOnScroll=()=>{let e=document.querySelectorAll("section[id]"),t=document.querySelectorAll("nav ul li a");if(!e.length||!t.length)return;let s=debounce(()=>{let s=null,r=0,l=window.innerHeight;if(e.forEach(e=>{let t=e.getBoundingClientRect(),i=Math.min(t.bottom,l)-Math.max(t.top,0),o=i>0?i/t.height:0;o>r&&(r=o,s=e)}),s&&r>.1){let i=s.getAttribute("id");t.forEach(e=>{e.parentElement.classList.remove("active")});let o=document.querySelector(`nav ul li a[href="#${i}"]`);o&&o.parentElement.classList.add("active")}},100);window.addEventListener("scroll",s)},setupScrollToTop=e=>{let{ARROW_TOP:t}=e;t&&(window.addEventListener("scroll",()=>{window.scrollY>200?t.classList.add("show"):t.classList.remove("show")}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))},init=()=>{let e=cacheElements();setupScrollListeners(e),setupSideMenu(e),setupHireMeModal(e),setupSmoothScroll(),setupScrollToTop(e),setupIntersectionObservers(),updateActiveNavOnScroll()};document.addEventListener("DOMContentLoaded",init);