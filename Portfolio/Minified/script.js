const ELEMENTS={HEADER:"header",DEV_NAME:"devName",HAMBURGER:"hamburger",SIDE_MENU:"sideMenu",MAIN:"main",SIDE_MENU_CLOSE:"sideMenuClose",HIRE_ME_BTN:"hireMe",HIRE_ME_MODAL:"modelHireMe",HIRE_ME_CONTENT:"hireMeContent",ABOUT_SECTION:"about",SKILLS_SECTION:"skills",RESUME_CONTAINER_CLASS:"resume-container",CLOSE_BTN_HIRE_ME:"closeMeBtn",SIDE_MENU_LINK:"sideMenuLink",ARROW_TOP:"arrowTop"},debounce=(e,t)=>{let s;return function(){let l=this,r=arguments;clearTimeout(s),s=setTimeout(()=>e.apply(l,r),t)}},cacheElements=()=>{let e={};for(let[t,s]of Object.entries(ELEMENTS))"RESUME_CONTAINER_CLASS"===t?e[t]=document.querySelector(`.${s}`):"HIRE_ME_BTN"===t||"SIDE_MENU_LINK"===t?e[t]=document.querySelectorAll(`#${s}`):e[t]=document.getElementById(s);return e},setupScrollListeners=e=>{let t=debounce(()=>{toggleHeaderVisibility(e.DEV_NAME,e.HEADER)},10);window.addEventListener("scroll",t),toggleHeaderVisibility(e.DEV_NAME,e.HEADER)},toggleHeaderVisibility=(e,t)=>{if(!e||!t)return;let s=e.getBoundingClientRect().top;s<=-4?(t.classList.add("sticky"),e.classList.add("hide")):(t.classList.remove("sticky"),e.classList.remove("hide"))},setupSideMenu=e=>{let{HAMBURGER:t,SIDE_MENU:s,SIDE_MENU_CLOSE:l,MAIN:r,SIDE_MENU_LINK:i}=e;if(!t||!s||!l||!r)return;let o=()=>{s.classList.toggle("show"),r.classList.toggle("shrink"),document.body.style.overflow=s.classList.contains("show")?"hidden":"",document.body.style.background=s.classList.contains("show")?"rgba(0, 0, 0, 0.5)":""};t.addEventListener("click",o),l.addEventListener("click",o),i&&i.forEach(e=>{e.addEventListener("click",()=>{s.classList.remove("show"),r.classList.remove("shrink"),document.body.style.overflow="",document.body.style.background=""})})},setupHireMeModal=e=>{let{HIRE_ME_BTN:t,HIRE_ME_MODAL:s,HIRE_ME_CONTENT:l,CLOSE_BTN_HIRE_ME:r}=e;if(!t||!s||!l||!r)return;let i=0,o=0;t.forEach(e=>{e.addEventListener("click",()=>{s.classList.remove("hide"),s.classList.add("show"),setTimeout(()=>{l.classList.add("show"),l.classList.remove("hide")},700),document.body.style.overflow="hidden"})}),r.addEventListener("click",()=>closeHireMeModal(s,l)),s.addEventListener("click",e=>{closeHireMeModal(s,l),e.stopPropagation()}),l.addEventListener("click",e=>{e.stopPropagation()}),l.addEventListener("touchstart",e=>{i=e.changedTouches[0].screenY}),l.addEventListener("touchmove",e=>{o=e.changedTouches[0].screenY}),l.addEventListener("touchend",()=>{o>i+50&&closeHireMeModal(s,l)})},closeHireMeModal=(e,t)=>{e&&t&&(e.classList.remove("show"),e.classList.add("hide"),t.classList.remove("show"),t.classList.add("hide"),document.body.style.overflow="")},setupSmoothScroll=()=>{let e=document.querySelectorAll('a[href^="#"]');e.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let t=e.currentTarget.getAttribute("href"),s=document.querySelector(t);s&&window.scrollTo({top:s.offsetTop-75,behavior:"smooth"})})})},ANIMATION_CONFIG={about:{section:{class:"fadeInVisible",threshold:.02},elements:[{selector:"h2",class:"fadeInHeading",threshold:.1},{selector:"p",class:"fadeInParagraph",threshold:.1},{selector:".detail-section",class:"fadeInDetailSection",threshold:.1},{selector:".detail-img",class:"fadeInImage",threshold:.1},{selector:".info",class:"fadeInInfo",threshold:.1},{selector:".profile-info p",class:"fadeInVisible",threshold:.1}]},skills:{section:{class:"fadeInSkills",threshold:.05},elements:[{selector:".skill",class:"fadeInSkillBar",threshold:.5,isStaggered:!0}]},resume:{section:{class:"fadeInResumeContainer",threshold:.02},elements:[{selector:".resume-title, .resume-section",class:"show",threshold:.1},{selector:".timeline",class:"show",threshold:.1},{selector:".timeline-item",class:"visible",threshold:.1,isStaggered:!0}]},projects:{section:{class:"fadeInProjects",threshold:.2},elements:[{selector:".project-card",class:"fadeInProject",threshold:.1,isStaggered:!0},{selector:".project-title, .project-description, .project-links, .project-image",class:"fadeInProjectElement",threshold:.1,isStaggered:!0}]}},createAnimationObserver=(e,t={})=>{let s={threshold:.1,rootMargin:"0px"},l={...s,...t};return new IntersectionObserver(e,l)},animateSkillBar=(e,t)=>{let s=e.querySelector(".skill-progress");if(!s)return;let l=e.querySelector("[data-percent]");if(!l)return;let r=l.getAttribute("data-percent");t?(s.style.width="0",setTimeout(()=>{s.style.width=r},300)):s.style.width="0"},setupAnimations=()=>{Object.entries(ANIMATION_CONFIG).forEach(([e,t])=>{let s="resume"===e?document.querySelector(".resume-container"):document.querySelector("projects"===e?".projects-section":`#${e}`);if(!s)return;let l=createAnimationObserver(l=>{l.forEach(l=>{if(l.isIntersecting){if(s.classList.add(t.section.class),"skills"===e&&!l.isIntersecting){let r=s.querySelectorAll(".skill");r.forEach(e=>animateSkillBar(e,!1))}}else s.classList.remove(t.section.class)})},{threshold:t.section.threshold});l.observe(s),t.elements.forEach(t=>{let l=s.querySelectorAll(t.selector);t.isStaggered&&l.forEach((e,t)=>{e.style.setProperty("--i",t),e.style.setProperty("--index",t)});let r=createAnimationObserver(s=>{s.forEach(s=>{let l=s.target;if(s.isIntersecting){if(t.isStaggered){let r=parseInt(l.style.getPropertyValue("--i")||0);setTimeout(()=>{l.classList.add(t.class)},200*r)}else l.classList.add(t.class);"skills"===e&&l.classList.contains("skill")&&animateSkillBar(l,!0)}else l.classList.remove(t.class),"skills"===e&&l.classList.contains("skill")&&animateSkillBar(l,!1)})},{threshold:t.threshold||.1,rootMargin:t.rootMargin||"0px"});l.forEach(e=>r.observe(e))})})},updateActiveNavOnScroll=()=>{let e=document.querySelectorAll("section[id]"),t=document.querySelectorAll("nav ul li a");if(!e.length||!t.length)return;let s=debounce(()=>{let s=null,l=0,r=window.innerHeight;if(e.forEach(e=>{let t=e.getBoundingClientRect(),i=Math.min(t.bottom,r)-Math.max(t.top,0),o=i>0?i/t.height:0;o>l&&(l=o,s=e)}),s&&l>.1){let i=s.getAttribute("id");t.forEach(e=>{e.parentElement.classList.remove("active")});let o=document.querySelector(`nav ul li a[href="#${i}"]`);o&&o.parentElement.classList.add("active")}},100);window.addEventListener("scroll",s)},setupScrollToTop=e=>{let{ARROW_TOP:t}=e;t&&(window.addEventListener("scroll",()=>{window.scrollY>200?t.classList.add("show"):t.classList.remove("show")}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}))},setupOrientationChangeHandler=()=>{window.addEventListener("orientationchange",()=>{setTimeout(()=>{let e=document.querySelectorAll(".skill");e.forEach(e=>{let t=e.querySelector(".skill-progress");if(t&&(t.style.width="0",e.classList.contains("fadeInSkillBar"))){let s=e.querySelector("[data-percent]");if(s){let l=s.getAttribute("data-percent");setTimeout(()=>{t.style.width=l},300)}}})},200)})},init=()=>{let e=cacheElements();setupScrollListeners(e),setupSideMenu(e),setupHireMeModal(e),setupSmoothScroll(),setupScrollToTop(e),setupOrientationChangeHandler(),setupAnimations(),updateActiveNavOnScroll()};document.addEventListener("DOMContentLoaded",init);